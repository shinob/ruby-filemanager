# File Manager

Rubyの標準ライブラリのみを使用したシンプルなWebベースファイルマネージャー。

## 機能

- ディレクトリとファイルの一覧表示
- ファイルのアップロード（multipart/form-data対応）
- ファイル・ディレクトリの削除
- ファイル・ディレクトリの名称変更
- ファイルのダウンロード
- 画像ファイルのプレビュー機能（モーダル表示）
- アクセスログ表示（IP、タイムスタンプ、User-Agent）
- 日本語ファイル名対応
- クロスプラットフォーム対応（Windows/Linux パス区切り文字自動変換）

## 動作環境

- Ruby 2.0以上
- Windows / Ubuntu対応

## 使用方法

### 基本起動

```bash
ruby file_manager.rb
```

デフォルトでポート8080、カレントディレクトリをルートとして起動します。

### オプション指定

```bash
ruby file_manager.rb /path/to/directory 8000
```

- 第1引数: ルートディレクトリ（省略時はカレントディレクトリ）
- 第2引数: ポート番号（省略時は8080）

### アクセス

- ローカルアクセス: `http://localhost:8080`
- ネットワークアクセス: `http://[YOUR_IP]:8080`

### 画像プレビュー機能

対応画像形式: PNG, JPG, JPEG, GIF, BMP, WEBP
画像ファイル名の横にカメラアイコン📷が表示され、クリックするとモーダルでプレビューが表示されます。

## セキュリティ

- 指定したルートディレクトリより上位へのアクセスは制限されています
- 相対パス（`..`）による不正なディレクトリアクセスを防止
- 本アプリケーションは開発・テスト用途を想定しており、本番環境での使用は推奨されません

## ログ機能

アクセスログがコンソールにリアルタイムで表示されます。
表示内容：
- タイムスタンプ
- クライアントIP
- HTTPメソッドとパス
- User-Agent

## 停止方法

Ctrl+C で停止できます。

## 技術仕様

- HTTPサーバーはRuby標準ライブラリのTCPServerを使用
- マルチスレッド対応でファイル操作の並行処理が可能
- URLエンコード/デコードによる日本語ファイル名の適切な処理
